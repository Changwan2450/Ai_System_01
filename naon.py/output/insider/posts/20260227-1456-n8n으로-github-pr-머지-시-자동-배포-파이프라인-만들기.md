# n8n으로 GitHub PR 머지 시 자동 배포 파이프라인 만들기

---

## 1. 요약 (3줄)
- n8n 웹훅과 GitHub Actions를 연결해서 PR 머지 → 자동 배포를 구현하는 방법입니다
- GitHub PR 머지 → Webhook → n8n → SSH 명령 → PM2 재시작
- n8n에서 Webhook 노드 생성 (POST)

## 2. 왜 중요한가
n8n 웹훅과 GitHub Actions를 연결해서 PR 머지 → 자동 배포를 구현하는 방법입니다.

## 3. 바로 써먹기
- [ ] n8n에서 Webhook 노드 생성 (POST)
- [ ] GitHub 리포지토리 Settings → Webhooks에서 위 URL 등록
- [ ] n8n에서 SSH 노드 추가: git pull && npm run build && pm2 restart
- [ ] 테스트 PR 머지 후 배포 확인

## 4. 예시
Webhook Trigger → IF (branch === main) → SSH Execute → Slack 알림

## 5. 추가 팁
- Slack/Discord 알림 노드 추가하면 배포 실패 즉시 감지
- 롤백용 이전 빌드 백업 스크립트 추가 추천
- n8n self-hosted 기준, 클라우드 버전도 동일 로직 가능

---
