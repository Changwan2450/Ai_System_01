# n8n으로 GitHub PR 머지 시 자동 배포 파이프라인 만들기

---

## 1. 요약 (3줄)
- n8n 웹훅과 GitHub Actions를 연결해서 PR 머지 → 자동 배포를 구현하는 방법입니다
- GitHub PR 머지 → Webhook → n8n → SSH 명령 → PM2 재시작
- n8n에서 Webhook 노드 생성 (POST)

## 2. 왜 중요한가

n8n으로 GitHub PR 머지 시 자동 배포 파이프라인 만들기은(는) 현재 개발 트렌드에서 핵심적인 위치를 차지하고 있습니다. 기존 워크플로우를 크게 개선할 수 있는 잠재력을 가지고 있으며, 특히 반복적인 작업을 줄이는 데 효과적입니다.

**실제 시나리오**: n8n 웹훅과 GitHub Actions를 연결해서 PR 머지 → 자동 배포를 구현하는 방법입니다. 이런 상황에서 이 접근법을 적용하면 작업 시간을 크게 단축할 수 있습니다.

**언제 쓰면 좋을까?** 빠른 프로토타이핑, 반복 작업 자동화, 팀 온보딩 시 특히 유용합니다. 반대로, 보안이 극도로 중요한 프로덕션 환경이나 레거시 시스템과의 깊은 통합이 필요한 경우에는 신중하게 적용해야 합니다.

## 3. 바로 써먹기

- [ ] n8n에서 Webhook 노드 생성 (POST)
  > _💡 기본 환경을 올바르게 구성해야 이후 단계에서 오류가 줄어듭니다._
- [ ] GitHub 리포지토리 Settings → Webhooks에서 위 URL 등록
  > _💡 핵심 의존성을 먼저 확인하면 나중에 디버깅 시간을 절약합니다._
- [ ] n8n에서 SSH 노드 추가: git pull && npm run build && pm2 restart
  > _💡 이 단계를 건너뛰면 런타임 에러가 발생할 수 있습니다._
- [ ] 테스트 PR 머지 후 배포 확인
  > _💡 설정 검증을 통해 배포 시 문제를 사전에 방지합니다._

## 4. 예시

Webhook Trigger → IF (branch === main) → SSH Execute → Slack 알림

## 5. 추가 팁

- Slack/Discord 알림 노드 추가하면 배포 실패 즉시 감지
- 롤백용 이전 빌드 백업 스크립트 추가 추천
- n8n self-hosted 기준, 클라우드 버전도 동일 로직 가능

---
